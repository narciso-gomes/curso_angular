<div class="container">
    <h3>Template Driven</h3>

    <form #form="ngForm" (ngSubmit)="onSubmit(form)">
        <div class="form-group">
            <label for="name">Nome</label>
            <input type="text" class="form-control" id="name" name="name" [(ngModel)]="user.name" required
                #name="ngModel" [ngClass]="{'is-invalid': !name.valid && name.touched, 'is-valid':name.valid}"
                placeholder="Nome">
            <!--<p>{{name.className}}</p>-->
            <div class="invalid-feedback">
                O campo nome é obrigatório
            </div>

            <div class="valid-feedback">
                Muito bem!
            </div>
        </div>

        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" class="form-control" id="email" name="email" [(ngModel)]="user.email" required email
                #email="ngModel" [ngClass]="{'is-invalid': !email.valid && email.touched, 'is-valid': email.valid}"
                placeholder="Email">
            <!--<p>{{email.className}}</p>-->
            <div class="invalid-feedback">
                Obrigatório informar um email válido
            </div>

            <div class="valid-feedback">
                Ok
            </div>
        </div>

        <div class="form-group">
            <label for="sexo">Sexo</label>
            <select class="custom-select" name="sexo" required [(ngModel)]="user.sexo" #sexo="ngModel"
                [ngClass]="{'is-invalid': sexo.value==0 && sexo.touched, 'is-valid': sexo.value > 0}">
                <option value="0">Selecione um sexo</option>
                <option value="1">MASCULINO</option>
                <option value="2">FEMININO</option>
            </select>
            <div class="invalid-feedback">Informe um estado</div>
        </div>
        <div class="form-row" ngModelGroup="endereco">
            <div class="form-group col-md-4">
                <label for="cep">CEP</label>
                <input type="text" name="cep" id="cep" required class="form-control" #cep="ngModel" [(ngModel)]="user.endereco.cep" placeholder="Cep">
            </div>

            <div class="form-group col-md-2">
                <label for="numero">Número</label>
                <input type="number" name="numero" id="numero" class="form-control" #numerp="ngModel" [(ngModel)]="user.endereco.numero" placeholder="Número">
            </div>

            <div class="form-group col-md-6">
                <label for="complemento">Complemento</label>
                <input type="text" name="complemento" id="complemento" class="form-control" #complemento="ngModel" [(ngModel)]="user.endereco.complemento" placeholder="Complemento">
            </div>

            <div class="form-group col-md-12">
                <label for="rua">Rua</label>
                <input type="text" name="rua" id="rua" class="form-control" #rua="ngModel" [(ngModel)]="user.endereco.rua" placeholder="Rua">
            </div>
            
            <div class="form-group col-md-4">
                <label for="bairro">Bairro</label>
                <input type="text" name="bairro" id="bairro" class="form-control" #bairro="ngModel" [(ngModel)]="user.endereco.bairro" placeholder="Bairro">
            </div>
            
            <div class="form-group col-md-4">
                <label for="cidade">Cidade</label>
                <input type="text" name="cidade" id="cidade" class="form-control" #cidade="ngModel" [(ngModel)]="user.endereco.cidade" placeholder="cidade">
            </div>

            <div class="form-group col-md-4">
                <label for="estado">Estado</label>
                <input type="text" name="estado" id="estado" class="form-control" #estado="ngModel" [(ngModel)]="user.endereco.estado" placeholder="estado">
            </div>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Submit</button>
    </form>

    <app-form-debug [form]="form"></app-form-debug>
</div>